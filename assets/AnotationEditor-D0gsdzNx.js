import{u as $,b as C,w as V,d as r,o as v,h as l,i as a,v as b,F as k,j as w,p as U,t as c,e as T,k as F,l as A,m as N}from"./index-nO542_Ze.js";const B={class:"mb-4 p-2 border rounded"},D={class:"grid grid-cols-2 gap-1 text-xs"},H=["value"],j={class:"mb-4 p-2 border rounded"},z={class:"grid grid-cols-2 gap-1 text-xs"},E=["value"],M={class:"mb-4 p-2 border rounded"},L={class:"flex items-center gap-2 mb-2"},O=["checked"],q={key:0,class:"space-y-2"},J=["onUpdate:modelValue"],P=["onUpdate:modelValue"],W=["onUpdate:modelValue"],K=["onClick"],X={class:"mt-2"},Q={__name:"AnotationEditor",props:{element:Object},setup(t){const d=$(),u=t,x=[{value:"check",label:"Centang"},{value:"text",label:"Teks"},{value:"mark",label:"Silang"},{value:"circle",label:"Lingkaran"},{value:"draw",label:"Arsir"}],I=[{value:"red",label:"Merah"},{value:"black",label:"Hitam"},{value:"green",label:"Hijau"},{value:"blue",label:"Biru"},{value:"yellow",label:"Kuning"}],p=C(Array.isArray(u.element.allowedTypes)&&u.element.allowedTypes.length?[...u.element.allowedTypes]:x.map(o=>o.value)),g=C(Array.isArray(u.element.allowedColors)&&u.element.allowedColors.length?[...u.element.allowedColors]:I.map(o=>o.value));function i(o,e){if(o==="name"&&!d.isNameUnique(e,u.element.id)){u.element.name="",alert("Name must be unique!");return}d.selectedColumnFieldInfo?d.updateSelectedColumnFieldProperty(o,e):d.updateSelectedProperty(o,e)}V(p,o=>{i("allowedTypes",o)},{deep:!0}),V(g,o=>{i("allowedColors",o)},{deep:!0});function S(){var o;if(d.selectedColumnFieldInfo){const{colIndex:e,fieldId:f,parentId:y}=d.selectedColumnFieldInfo,n=d.elements.find(s=>s.id===y);n&&((o=n.columns)!=null&&o[e])&&(console.log(n.columns[e]),n.columns[e]=n.columns[e].filter(s=>s.id!==f),d.selectedColumnFieldInfo=null)}else d.deleteSelectedElement()}return(o,e)=>{var f,y;return v(),r("div",null,[l("div",{class:"flex items-center justify-between mt-3"},[e[21]||(e[21]=l("h2",{class:"font-semibold mb-2"},"Image Anotator",-1)),l("button",{type:"button",onClick:S,class:"px-3 py-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"}," Delete ")]),e[31]||(e[31]=l("label",{class:"block text-sm mb-1"},"Label",-1)),a(l("input",{onInput:e[0]||(e[0]=n=>i("label",t.element.label)),"onUpdate:modelValue":e[1]||(e[1]=n=>t.element.label=n),class:"w-full border p-1 mb-4"},null,544),[[b,t.element.label]]),e[32]||(e[32]=l("label",{class:"block text-sm mb-1"},"Name",-1)),a(l("input",{onInput:e[2]||(e[2]=n=>i("name",t.element.name)),"onUpdate:modelValue":e[3]||(e[3]=n=>t.element.name=n),class:"w-full border p-1 mb-4"},null,544),[[b,t.element.name]]),e[33]||(e[33]=l("label",{class:"block text-sm mb-1"},"Src",-1)),a(l("input",{onInput:e[4]||(e[4]=n=>i("src",t.element.src)),"onUpdate:modelValue":e[5]||(e[5]=n=>t.element.src=n),class:"w-full border p-1 mb-4"},null,544),[[b,t.element.src]]),e[34]||(e[34]=l("label",{class:"block mb-1"},"Width",-1)),a(l("input",{"onUpdate:modelValue":e[6]||(e[6]=n=>t.element.width=n),placeholder:"%, px, pt, ect..",onInput:e[7]||(e[7]=n=>i("width",t.element.width)),class:"w-full border p-1 mb-4"},null,544),[[b,t.element.width]]),e[35]||(e[35]=l("label",{class:"block mb-1"},"Height",-1)),a(l("input",{"onUpdate:modelValue":e[8]||(e[8]=n=>t.element.height=n),placeholder:"%, px, pt, ect..",onInput:e[9]||(e[9]=n=>i("height",t.element.height)),class:"w-full border p-1 mb-4"},null,544),[[b,t.element.height]]),e[36]||(e[36]=l("label",{class:"block mb-1"},"Classes",-1)),a(l("input",{"onUpdate:modelValue":e[10]||(e[10]=n=>t.element.class=n),onInput:e[11]||(e[11]=n=>i("class",t.element.class)),class:"w-full border p-1 mb-4"},null,544),[[b,t.element.class]]),l("fieldset",B,[e[22]||(e[22]=l("legend",{class:"text-sm font-medium mb-1"}," Tipe Anotasi Diizinkan ",-1)),l("div",D,[(v(),r(k,null,w(x,n=>l("label",{key:n.value,class:"flex items-center gap-2"},[a(l("input",{type:"checkbox",value:n.value,"onUpdate:modelValue":e[12]||(e[12]=s=>p.value=s)},null,8,H),[[U,p.value]]),l("span",null,c(n.label),1)])),64))]),e[23]||(e[23]=l("p",{class:"mt-1 text-[10px] text-gray-500"}," Jika tidak diubah, semua tipe akan diizinkan. ",-1))]),l("fieldset",j,[e[24]||(e[24]=l("legend",{class:"text-sm font-medium mb-1"}," Warna Anotasi Diizinkan ",-1)),l("div",z,[(v(),r(k,null,w(I,n=>l("label",{key:n.value,class:"flex items-center gap-2"},[a(l("input",{type:"checkbox",value:n.value,"onUpdate:modelValue":e[13]||(e[13]=s=>g.value=s)},null,8,E),[[U,g.value]]),l("span",null,c(n.label),1)])),64))]),e[25]||(e[25]=l("p",{class:"mt-1 text-[10px] text-gray-500"}," Jika tidak diubah, semua warna akan diizinkan. ",-1))]),l("fieldset",M,[e[30]||(e[30]=l("legend",{class:"text-sm font-medium mb-2"}," Conditional Visibility ",-1)),l("label",L,[e[26]||(e[26]=F("Has visibility? ")),l("input",{type:"checkbox",checked:!!t.element.visibility,onChange:e[14]||(e[14]=n=>{n.target.checked?i("visibility",{showIf:{all:[{field:"",op:"==",value:""}]},else:"hide"}):i("visibility",void 0)})},null,40,O)]),(y=(f=t.element.visibility)==null?void 0:f.showIf)!=null&&y.all?(v(),r("div",q,[(v(!0),r(k,null,w(t.element.visibility.showIf.all,(n,s)=>(v(),r("div",{key:s,class:"flex gap-2 items-center"},[a(l("input",{"onUpdate:modelValue":m=>t.element.visibility.showIf.all[s].field=m,onInput:e[15]||(e[15]=m=>i("visibility",t.element.visibility)),placeholder:"field name",class:"border p-1 w-1/3"},null,40,J),[[b,t.element.visibility.showIf.all[s].field]]),a(l("select",{"onUpdate:modelValue":m=>t.element.visibility.showIf.all[s].op=m,onChange:e[16]||(e[16]=m=>i("visibility",t.element.visibility)),class:"border p-1"},e[27]||(e[27]=[N('<option value="==">==</option><option value="!=">!=</option><option value="&gt;">&gt;</option><option value="&lt;">&lt;</option><option value="&gt;=">&gt;=</option><option value="&lt;=">&lt;=</option>',6)]),40,P),[[A,t.element.visibility.showIf.all[s].op]]),a(l("input",{"onUpdate:modelValue":m=>t.element.visibility.showIf.all[s].value=m,onInput:e[17]||(e[17]=m=>i("visibility",t.element.visibility)),placeholder:"value",class:"border p-1 w-1/3"},null,40,W),[[b,t.element.visibility.showIf.all[s].value]]),l("button",{type:"button",onClick:()=>{t.element.visibility.showIf.all.splice(s,1),i("visibility",t.element.visibility)},class:"text-red-500"}," X ",8,K)]))),128)),l("button",{type:"button",onClick:e[18]||(e[18]=()=>{t.element.visibility.showIf.all.push({field:"",op:"==",value:""}),i("visibility",t.element.visibility)}),class:"text-blue-500"}," + Add Condition "),l("div",X,[e[29]||(e[29]=l("label",{class:"block text-sm"},"Else action",-1)),a(l("select",{"onUpdate:modelValue":e[19]||(e[19]=n=>t.element.visibility.else=n),onChange:e[20]||(e[20]=n=>i("visibility",t.element.visibility)),class:"border p-1"},e[28]||(e[28]=[l("option",{value:"show"},"Show",-1),l("option",{value:"hide"},"Hide",-1)]),544),[[A,t.element.visibility.else]])])])):T("",!0)])])}}};export{Q as default};
