import{u as U,b as F,d as f,e as g,o as v,h as t,i as b,k as y,v as r,F as I,j as x,l as w,m as $}from"./index-nO542_Ze.js";const S={key:0},E={class:"flex items-center justify-between mt-3 gap-2"},N={class:"flex items-center gap-2"},O=["checked"],q={class:"flex items-center gap-2"},j=["checked"],B={class:"flex items-center gap-2"},z=["checked"],H=["onUpdate:modelValue","onInput"],L=["onUpdate:modelValue","onInput"],M=["onClick"],A={class:"mb-4 mt-4 p-2 border rounded"},D={class:"flex items-center gap-2 mb-2"},P=["checked"],T={key:0,class:"space-y-2"},R=["onUpdate:modelValue"],X=["onUpdate:modelValue"],G=["onUpdate:modelValue"],J=["onClick"],K={class:"mt-2"},W={__name:"SelectInputEditor",props:{element:Object},setup(n){const s=U(),p=n;F("");function C(){p.element.options||(p.element.options=[]),p.element.options.push({label:"Option",value:"option"})}function V(u){var e;if(s.selectedColumnFieldInfo){const{colIndex:m,fieldId:c,parentId:a}=s.selectedColumnFieldInfo,l=s.elements.find(i=>i.id===a);if(l&&((e=l.columns)!=null&&e[m])){const i=l.columns[m].find(o=>o.id===c);i&&i.options&&i.options.splice(u,1)}}else s.selectedElement.options&&s.selectedElement.options.splice(u,1)}function k(u,e,m){s.selectedElement.options[u][e]=m}function d(u,e){if(u==="name"&&!s.isNameUnique(e,p.element.id)){p.element.name="",alert("Name must be unique!");return}s.selectedColumnFieldInfo?s.updateSelectedColumnFieldProperty(u,e):s.updateSelectedProperty(u,e)}function h(){var u;if(s.selectedColumnFieldInfo){const{colIndex:e,fieldId:m,parentId:c}=s.selectedColumnFieldInfo,a=s.elements.find(l=>l.id===c);a&&((u=a.columns)!=null&&u[e])&&(console.log(a.columns[e]),a.columns[e]=a.columns[e].filter(l=>l.id!==m),s.selectedColumnFieldInfo=null)}else s.deleteSelectedElement()}return(u,e)=>{var m,c,a;return((m=n.element)==null?void 0:m.type)==="select"?(v(),f("div",S,[t("div",{class:"flex items-center justify-between mt-3"},[e[16]||(e[16]=t("h2",{class:"font-semibold mb-2"},"Select Input",-1)),t("button",{type:"button",onClick:h,class:"px-3 py-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},"Delete")]),t("div",E,[t("label",N,[t("input",{type:"checkbox",checked:n.element.required,onChange:e[0]||(e[0]=l=>d("required",l.target.checked)),class:"checkbox"},null,40,O),e[17]||(e[17]=y(" Required "))]),t("label",q,[t("input",{type:"checkbox",checked:n.element.multiple,onChange:e[1]||(e[1]=l=>d("multiple",l.target.checked)),class:"checkbox"},null,40,j),e[18]||(e[18]=y(" Multiple "))]),t("label",B,[t("input",{type:"checkbox",checked:n.element.horizontal,onChange:e[2]||(e[2]=l=>d("horizontal",l.target.checked)),class:"checkbox"},null,40,z),e[19]||(e[19]=y(" Horizontal "))])]),e[25]||(e[25]=t("label",{class:"block mb-1"},"Label",-1)),b(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>n.element.label=l),onInput:e[4]||(e[4]=l=>d("label",n.element.label)),class:"w-full border p-1 mb-4"},null,544),[[r,n.element.label]]),e[26]||(e[26]=t("label",{class:"block mb-1"},"Name",-1)),b(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>n.element.name=l),onInput:e[6]||(e[6]=l=>d("name",n.element.name)),class:"w-full border p-1 mb-4"},null,544),[[r,n.element.name]]),e[27]||(e[27]=t("label",{class:"block mb-1"},"Classes",-1)),b(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>n.element.class=l),onInput:e[8]||(e[8]=l=>d("class",n.element.class)),class:"w-full border p-1 mb-4"},null,544),[[r,n.element.class]]),e[28]||(e[28]=t("label",{class:"block mb-1"},"Options",-1)),(v(!0),f(I,null,x(n.element.options,(l,i)=>(v(),f("div",{key:i,class:"flex items-center gap-2 mb-2"},[b(t("input",{"onUpdate:modelValue":o=>l.label=o,onInput:o=>k(i,"label",l.label),class:"border p-1 w-1/2",placeholder:"Label"},null,40,H),[[r,l.label]]),b(t("input",{"onUpdate:modelValue":o=>l.value=o,onInput:o=>k(i,"value",l.value),class:"border p-1 w-1/2",placeholder:"Value"},null,40,L),[[r,l.value]]),t("button",{onClick:o=>V(i),class:"text-red-500 text-sm"},"âœ•",8,M)]))),128)),t("button",{onClick:C,class:"bg-blue-500 text-white text-sm px-2 py-1 rounded"},"+ Add Option"),t("fieldset",A,[e[24]||(e[24]=t("legend",{class:"text-sm font-medium mb-2"},"Conditional Visibility",-1)),t("label",D,[e[20]||(e[20]=y("Has visibility? ")),t("input",{type:"checkbox",checked:!!n.element.visibility,onChange:e[9]||(e[9]=l=>{l.target.checked?d("visibility",{showIf:{all:[{field:"",op:"==",value:""}]},else:"hide"}):d("visibility",void 0)})},null,40,P)]),(a=(c=n.element.visibility)==null?void 0:c.showIf)!=null&&a.all?(v(),f("div",T,[(v(!0),f(I,null,x(n.element.visibility.showIf.all,(l,i)=>(v(),f("div",{key:i,class:"flex gap-2 items-center"},[b(t("input",{"onUpdate:modelValue":o=>n.element.visibility.showIf.all[i].field=o,onInput:e[10]||(e[10]=o=>d("visibility",n.element.visibility)),placeholder:"field name",class:"border p-1 w-1/3"},null,40,R),[[r,n.element.visibility.showIf.all[i].field]]),b(t("select",{"onUpdate:modelValue":o=>n.element.visibility.showIf.all[i].op=o,onChange:e[11]||(e[11]=o=>d("visibility",n.element.visibility)),class:"border p-1"},e[21]||(e[21]=[$('<option value="==">==</option><option value="!=">!=</option><option value="&gt;">&gt;</option><option value="&lt;">&lt;</option><option value="&gt;=">&gt;=</option><option value="&lt;=">&lt;=</option>',6)]),40,X),[[w,n.element.visibility.showIf.all[i].op]]),b(t("input",{"onUpdate:modelValue":o=>n.element.visibility.showIf.all[i].value=o,onInput:e[12]||(e[12]=o=>d("visibility",n.element.visibility)),placeholder:"value",class:"border p-1 w-1/3"},null,40,G),[[r,n.element.visibility.showIf.all[i].value]]),t("button",{type:"button",onClick:()=>{n.element.visibility.showIf.all.splice(i,1),d("visibility",n.element.visibility)},class:"text-red-500"},"X",8,J)]))),128)),t("button",{type:"button",onClick:e[13]||(e[13]=()=>{n.element.visibility.showIf.all.push({field:"",op:"==",value:""}),d("visibility",n.element.visibility)}),class:"text-blue-500"},"+ Add Condition"),t("div",K,[e[23]||(e[23]=t("label",{class:"block text-sm"},"Else action",-1)),b(t("select",{"onUpdate:modelValue":e[14]||(e[14]=l=>n.element.visibility.else=l),onChange:e[15]||(e[15]=l=>d("visibility",n.element.visibility)),class:"border p-1"},e[22]||(e[22]=[t("option",{value:"show"},"Show",-1),t("option",{value:"hide"},"Hide",-1)]),544),[[w,n.element.visibility.else]])])])):g("",!0)])])):g("",!0)}}};export{W as default};
