import{u as I,d as r,o as f,h as i,i as s,v as u,e as x,k,F as p,j as V,l as w,m as C}from"./index-CSycHnx7.js";const U={class:"mb-4 p-2 border rounded"},$={class:"flex items-center gap-2 mb-2"},S=["checked"],F={key:0,class:"space-y-2"},N=["onUpdate:modelValue"],B=["onUpdate:modelValue"],E=["onUpdate:modelValue"],j=["onClick"],A={class:"mt-2"},q={__name:"AnotationEditor",props:{element:Object},setup(l){const d=I(),y=l;function n(a,e){if(a==="name"&&!d.isNameUnique(e,y.element.id)){y.element.name="",alert("Name must be unique!");return}d.selectedColumnFieldInfo?d.updateSelectedColumnFieldProperty(a,e):d.updateSelectedProperty(a,e)}function g(){var a;if(d.selectedColumnFieldInfo){const{colIndex:e,fieldId:b,parentId:v}=d.selectedColumnFieldInfo,t=d.elements.find(o=>o.id===v);t&&((a=t.columns)!=null&&a[e])&&(console.log(t.columns[e]),t.columns[e]=t.columns[e].filter(o=>o.id!==b),d.selectedColumnFieldInfo=null)}else d.deleteSelectedElement()}return(a,e)=>{var b,v;return f(),r("div",null,[i("div",{class:"flex items-center justify-between mt-3"},[e[19]||(e[19]=i("h2",{class:"font-semibold mb-2"},"Image Anotator",-1)),i("button",{type:"button",onClick:g,class:"px-3 py-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},"Delete")]),e[25]||(e[25]=i("label",{class:"block text-sm mb-1"},"Label",-1)),s(i("input",{onInput:e[0]||(e[0]=t=>n("label",l.element.label)),"onUpdate:modelValue":e[1]||(e[1]=t=>l.element.label=t),class:"w-full border p-1 mb-4"},null,544),[[u,l.element.label]]),e[26]||(e[26]=i("label",{class:"block text-sm mb-1"},"Name",-1)),s(i("input",{onInput:e[2]||(e[2]=t=>n("name",l.element.name)),"onUpdate:modelValue":e[3]||(e[3]=t=>l.element.name=t),class:"w-full border p-1 mb-4"},null,544),[[u,l.element.name]]),e[27]||(e[27]=i("label",{class:"block text-sm mb-1"},"Src",-1)),s(i("input",{onInput:e[4]||(e[4]=t=>n("src",l.element.src)),"onUpdate:modelValue":e[5]||(e[5]=t=>l.element.src=t),class:"w-full border p-1 mb-4"},null,544),[[u,l.element.src]]),e[28]||(e[28]=i("label",{class:"block mb-1"},"Width",-1)),s(i("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.element.width=t),placeholder:"%, px, pt, ect..",onInput:e[7]||(e[7]=t=>n("width",l.element.width)),class:"w-full border p-1 mb-4"},null,544),[[u,l.element.width]]),e[29]||(e[29]=i("label",{class:"block mb-1"},"Height",-1)),s(i("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.element.height=t),placeholder:"%, px, pt, ect..",onInput:e[9]||(e[9]=t=>n("height",l.element.height)),class:"w-full border p-1 mb-4"},null,544),[[u,l.element.height]]),e[30]||(e[30]=i("label",{class:"block mb-1"},"Classes",-1)),s(i("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.element.class=t),onInput:e[11]||(e[11]=t=>n("class",l.element.class)),class:"w-full border p-1 mb-4"},null,544),[[u,l.element.class]]),i("fieldset",U,[e[24]||(e[24]=i("legend",{class:"text-sm font-medium mb-2"},"Conditional Visibility",-1)),i("label",$,[e[20]||(e[20]=k("Has visibility? ")),i("input",{type:"checkbox",checked:!!l.element.visibility,onChange:e[12]||(e[12]=t=>{t.target.checked?n("visibility",{showIf:{all:[{field:"",op:"==",value:""}]},else:"hide"}):n("visibility",void 0)})},null,40,S)]),(v=(b=l.element.visibility)==null?void 0:b.showIf)!=null&&v.all?(f(),r("div",F,[(f(!0),r(p,null,V(l.element.visibility.showIf.all,(t,o)=>(f(),r("div",{key:o,class:"flex gap-2 items-center"},[s(i("input",{"onUpdate:modelValue":m=>l.element.visibility.showIf.all[o].field=m,onInput:e[13]||(e[13]=m=>n("visibility",l.element.visibility)),placeholder:"field name",class:"border p-1 w-1/3"},null,40,N),[[u,l.element.visibility.showIf.all[o].field]]),s(i("select",{"onUpdate:modelValue":m=>l.element.visibility.showIf.all[o].op=m,onChange:e[14]||(e[14]=m=>n("visibility",l.element.visibility)),class:"border p-1"},e[21]||(e[21]=[C('<option value="==">==</option><option value="!=">!=</option><option value="&gt;">&gt;</option><option value="&lt;">&lt;</option><option value="&gt;=">&gt;=</option><option value="&lt;=">&lt;=</option>',6)]),40,B),[[w,l.element.visibility.showIf.all[o].op]]),s(i("input",{"onUpdate:modelValue":m=>l.element.visibility.showIf.all[o].value=m,onInput:e[15]||(e[15]=m=>n("visibility",l.element.visibility)),placeholder:"value",class:"border p-1 w-1/3"},null,40,E),[[u,l.element.visibility.showIf.all[o].value]]),i("button",{type:"button",onClick:()=>{l.element.visibility.showIf.all.splice(o,1),n("visibility",l.element.visibility)},class:"text-red-500"},"X",8,j)]))),128)),i("button",{type:"button",onClick:e[16]||(e[16]=()=>{l.element.visibility.showIf.all.push({field:"",op:"==",value:""}),n("visibility",l.element.visibility)}),class:"text-blue-500"},"+ Add Condition"),i("div",A,[e[23]||(e[23]=i("label",{class:"block text-sm"},"Else action",-1)),s(i("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.element.visibility.else=t),onChange:e[18]||(e[18]=t=>n("visibility",l.element.visibility)),class:"border p-1"},e[22]||(e[22]=[i("option",{value:"show"},"Show",-1),i("option",{value:"hide"},"Hide",-1)]),544),[[w,l.element.visibility.else]])])])):x("",!0)])])}}};export{q as default};
