import{u as F,c as x,a as N,o as v,n as B,g as M,r as P,b as k,w as D,d as y,e as V,f as S,h as l,i as b,v as C,F as h,j as E,t as j,k as U,l as z,m as T}from"./index-nO542_Ze.js";import q from"./InputFieldEditor-ByHud1cx.js";import A from"./NumberFieldEditor-l0oyUE19.js";import H from"./DateFieldEditor-EKKzYmxH.js";import K from"./SelectInputEditor-BITxiH1w.js";import R from"./RadioEditor-bYrRhgOt.js";import J from"./TextareaEditor-7Lo_w_eW.js";import L from"./CheckboxEditor-DYp39jff.js";import O from"./AnotationEditor-D0gsdzNx.js";import X from"./TitleEditor-DPFl5qvO.js";import G from"./SectionEditor-B1gMJWdM.js";import Q from"./SubSectionEditor-DFjleF-V.js";import W from"./TextEditor-Djf6X18q.js";import Y from"./ImageEditor-BHOUCNzN.js";import Z from"./DividerEditor-CWtuqpdA.js";import _ from"./CustomEditor-KHqB6ZOB.js";import ee from"./TableInputEditor-B_NORIb3.js";const te={__name:"EditorRenderer",setup(t){const o=F(),r={input:q,number:A,date:H,select:K,radio:R,textarea:J,checkbox:L,columnControl:ye,anotation:O,title:X,section:G,subsection:Q,text:W,image:Y,divider:Z,custom:_,table:ee},p=x(()=>{var s,g;if(o.selectedColumnFieldInfo){const{colIndex:w,fieldId:$}=o.selectedColumnFieldInfo;return(((g=(s=o.selectedElement)==null?void 0:s.columns)==null?void 0:g[w])||[]).find(e=>e.id===$)||null}return o.selectedElement}),c=x(()=>{var s;return r[(s=p.value)==null?void 0:s.type]||null}),I=x(()=>p.value?{element:p.value}:{});return(s,g)=>(v(),N(P(c.value),B(M(I.value)),null,16))}},le={key:1},ne={class:"block text-sm font-medium mb-1"},oe=["onUpdate:modelValue"],ie={class:"mb-4 p-2 border rounded"},se={class:"flex items-center gap-2 mb-2"},me=["checked"],ue={key:0,class:"space-y-2"},ae=["onUpdate:modelValue"],de=["onUpdate:modelValue"],re=["onUpdate:modelValue"],ce=["onClick"],fe={class:"mt-2"},be={class:"mb-4 mt-4 p-2 border rounded"},ve={class:"flex items-center gap-2"},pe=["checked"],ye={__name:"ColumnControlEditor",props:{element:Object},setup(t){const o=F();k(""),k(""),k("text");const r=k(2),p=t,c=k([]);D(()=>o.selectedElement,n=>{var e,u;(n==null?void 0:n.type)==="columnControl"&&(r.value=((e=n.columns)==null?void 0:e.length)||2,c.value=(u=n.columnSizes)!=null&&u.length?[...n.columnSizes]:Array(r.value).fill(Math.floor(12/r.value)))},{immediate:!0});function I(){const n=o.selectedElement;if(!n||n.type!=="columnControl")return;if(c.value.reduce((u,a)=>u+Number(a),0)>12){alert("Total column sizes cannot exceed 12");return}n.columnSizes=[...c.value]}function s(n,e){if(o.selectedColumnFieldInfo)o.updateSelectedColumnFieldProperty(n,e);else{if(n==="name"&&!o.isNameUnique(e,p.element.id)){p.element.name="",alert("Name must be unique!");return}o.updateSelectedProperty(n,e)}}const g=x(()=>{var a;if(!o.selectedElement||!o.selectedColumnFieldInfo)return null;const{colIndex:n,fieldId:e}=o.selectedColumnFieldInfo,u=(a=o.selectedElement.columns)==null?void 0:a[n];return(u==null?void 0:u.find(f=>f.id===e))||null});function w(){const n=o.selectedElement;if(!n||n.type!=="columnControl")return;const e=n.columns||[],u=n.columnSizes||[],a=[],f=[],m=Math.floor(12/r.value);for(let i=0;i<r.value;i++)a[i]=e[i]||[],f[i]=u[i]||m;n.columns=a,n.columnSizes=f,c.value=[...f]}function $(){o.deleteSelectedElement()}return(n,e)=>{var u,a,f;return S(o).selectedElement&&S(o).selectedColumnFieldInfo?(v(),N(te,{key:0,element:g.value},null,8,["element"])):((u=S(o).selectedElement)==null?void 0:u.type)==="columnControl"?(v(),y("div",le,[l("div",{class:"flex items-center justify-between mt-3"},[e[13]||(e[13]=l("h2",{class:"font-semibold mb-2"},"Column Control",-1)),l("button",{type:"button",onClick:$,class:"px-3 py-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},"Delete")]),e[20]||(e[20]=l("label",{class:"block mb-1"},"Name",-1)),b(l("input",{"onUpdate:modelValue":e[0]||(e[0]=m=>t.element.name=m),onInput:e[1]||(e[1]=m=>s("name",t.element.name)),class:"w-full border p-1 mb-4"},null,544),[[C,t.element.name]]),e[21]||(e[21]=l("label",{class:"block mb-1"},"Classes",-1)),b(l("input",{"onUpdate:modelValue":e[2]||(e[2]=m=>t.element.class=m),onInput:e[3]||(e[3]=m=>s("class",t.element.class)),class:"w-full border p-1 mb-4"},null,544),[[C,t.element.class]]),e[22]||(e[22]=l("label",{class:"block mb-1"},"Jumlah Kolom",-1)),b(l("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=m=>r.value=m),onInput:w,class:"w-full border p-1 mb-4",min:"1",max:"12"},null,544),[[C,r.value,void 0,{number:!0}]]),(v(!0),y(h,null,E(c.value,(m,i)=>(v(),y("div",{key:i,class:"mb-3"},[l("label",ne,"Ukuran Kolom "+j(i+1)+" (1â€“12)",1),b(l("input",{type:"number","onUpdate:modelValue":d=>c.value[i]=d,onInput:I,min:"1",max:"12",class:"w-full border p-1"},null,40,oe),[[C,c.value[i],void 0,{number:!0}]])]))),128)),l("fieldset",ie,[e[18]||(e[18]=l("legend",{class:"text-sm font-medium mb-2"},"Conditional Visibility",-1)),l("label",se,[e[14]||(e[14]=U("Has visibility? ")),l("input",{type:"checkbox",checked:!!t.element.visibility,onChange:e[5]||(e[5]=m=>{m.target.checked?s("visibility",{showIf:{all:[{field:"",op:"==",value:""}]},else:"hide"}):s("visibility",void 0)})},null,40,me)]),(f=(a=t.element.visibility)==null?void 0:a.showIf)!=null&&f.all?(v(),y("div",ue,[(v(!0),y(h,null,E(t.element.visibility.showIf.all,(m,i)=>(v(),y("div",{key:i,class:"flex gap-2 items-center"},[b(l("input",{"onUpdate:modelValue":d=>t.element.visibility.showIf.all[i].field=d,onInput:e[6]||(e[6]=d=>s("visibility",t.element.visibility)),placeholder:"field name",class:"border p-1 w-1/3"},null,40,ae),[[C,t.element.visibility.showIf.all[i].field]]),b(l("select",{"onUpdate:modelValue":d=>t.element.visibility.showIf.all[i].op=d,onChange:e[7]||(e[7]=d=>s("visibility",t.element.visibility)),class:"border p-1"},e[15]||(e[15]=[T('<option value="==">==</option><option value="!=">!=</option><option value="&gt;">&gt;</option><option value="&lt;">&lt;</option><option value="&gt;=">&gt;=</option><option value="&lt;=">&lt;=</option>',6)]),40,de),[[z,t.element.visibility.showIf.all[i].op]]),b(l("input",{"onUpdate:modelValue":d=>t.element.visibility.showIf.all[i].value=d,onInput:e[8]||(e[8]=d=>s("visibility",t.element.visibility)),placeholder:"value",class:"border p-1 w-1/3"},null,40,re),[[C,t.element.visibility.showIf.all[i].value]]),l("button",{type:"button",onClick:()=>{t.element.visibility.showIf.all.splice(i,1),s("visibility",t.element.visibility)},class:"text-red-500"},"X",8,ce)]))),128)),l("button",{type:"button",onClick:e[9]||(e[9]=()=>{t.element.visibility.showIf.all.push({field:"",op:"==",value:""}),s("visibility",t.element.visibility)}),class:"text-blue-500"},"+ Add Condition"),l("div",fe,[e[17]||(e[17]=l("label",{class:"block text-sm"},"Else action",-1)),b(l("select",{"onUpdate:modelValue":e[10]||(e[10]=m=>t.element.visibility.else=m),onChange:e[11]||(e[11]=m=>s("visibility",t.element.visibility)),class:"border p-1"},e[16]||(e[16]=[l("option",{value:"show"},"Show",-1),l("option",{value:"hide"},"Hide",-1)]),544),[[z,t.element.visibility.else]])])])):V("",!0)]),l("div",be,[l("label",ve,[l("input",{type:"checkbox",checked:t.element.compute,onChange:e[12]||(e[12]=m=>s("compute",m.target.checked)),class:"checkbox"},null,40,pe),e[19]||(e[19]=U(" Compute "))])])])):V("",!0)}}};export{ye as default};
