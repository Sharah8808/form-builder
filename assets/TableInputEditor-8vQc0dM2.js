import{u as $,b as F,d as r,e as g,o as f,h as t,i as a,v,F as k,j as w,k as S,l as C,m as B}from"./index-CSycHnx7.js";const E={key:0},T=["onUpdate:modelValue","onInput"],h={class:"mb-4 mt-4 p-2 border rounded"},j={class:"flex items-center gap-2 mb-2"},K=["checked"],M={key:0,class:"space-y-2"},D=["onUpdate:modelValue"],H=["onUpdate:modelValue"],L=["onUpdate:modelValue"],P=["onClick"],q={class:"mt-2"},J={__name:"TableInputEditor",props:{element:Object},setup(l){var I;const y=l,d=$();function s(o,e){d.selectedColumnFieldInfo?d.updateSelectedColumnFieldProperty(o,e):d.updateSelectedProperty(o,e)}function V(o){const e=o.target.value;if(!d.isNameUnique(e,y.element.id)){alert("Name harus unik");return}s("name",e)}const p=F(((I=y.element.columns)==null?void 0:I.length)||1);function x(){const o=Math.max(1,p.value),m=[...(y.element.columns||[]).slice(0,o)];for(;m.length<o;)m.push(`Kolom ${m.length+1}`);s("columns",m)}function U(o,e){y.element.columns[o]=e}function N(){var o;if(d.selectedColumnFieldInfo){const{colIndex:e,fieldId:m,parentId:c}=d.selectedColumnFieldInfo,b=d.elements.find(n=>n.id===c);b&&((o=b.columns)!=null&&o[e])&&(console.log(b.columns[e]),b.columns[e]=b.columns[e].filter(n=>n.id!==m),d.selectedColumnFieldInfo=null)}else d.deleteSelectedElement()}return(o,e)=>{var m,c,b;return((m=l.element)==null?void 0:m.type)==="table"?(f(),r("div",E,[t("div",{class:"flex items-center justify-between mt-3"},[e[13]||(e[13]=t("h2",{class:"font-semibold mb-2"},"Table Input",-1)),t("button",{type:"button",onClick:N,class:"px-3 py-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},"Delete")]),e[19]||(e[19]=t("label",{class:"block mb-1"},"Label",-1)),a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>l.element.label=n),onInput:e[1]||(e[1]=n=>s("label",l.element.label)),class:"w-full border p-1 mb-2"},null,544),[[v,l.element.label]]),e[20]||(e[20]=t("label",{class:"block mb-1"},"Name",-1)),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>l.element.name=n),onInput:V,class:"w-full border p-1 mb-2"},null,544),[[v,l.element.name]]),e[21]||(e[21]=t("label",{class:"block mb-1"},"Classes",-1)),a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>l.element.class=n),onInput:e[4]||(e[4]=n=>s("class",l.element.class)),class:"w-full border p-1 mb-4"},null,544),[[v,l.element.class]]),e[22]||(e[22]=t("label",{class:"block mb-1"},"Jumlah Kolom",-1)),a(t("input",{type:"number",class:"w-full border p-1 mb-2","onUpdate:modelValue":e[5]||(e[5]=n=>p.value=n),onInput:x,min:"1"},null,544),[[v,p.value,void 0,{number:!0}]]),e[23]||(e[23]=t("label",{class:"block mb-1"},"Nama Kolom",-1)),(f(!0),r(k,null,w(l.element.columns,(n,i)=>(f(),r("div",{key:i,class:"flex gap-2 mb-2"},[a(t("input",{"onUpdate:modelValue":u=>l.element.columns[i]=u,onInput:u=>U(i,l.element.columns[i]),class:"w-full border p-1"},null,40,T),[[v,l.element.columns[i]]])]))),128)),t("fieldset",h,[e[18]||(e[18]=t("legend",{class:"text-sm font-medium mb-2"},"Conditional Visibility",-1)),t("label",j,[e[14]||(e[14]=S("Has visibility? ")),t("input",{type:"checkbox",checked:!!l.element.visibility,onChange:e[6]||(e[6]=n=>{n.target.checked?s("visibility",{showIf:{all:[{field:"",op:"==",value:""}]},else:"hide"}):s("visibility",void 0)})},null,40,K)]),(b=(c=l.element.visibility)==null?void 0:c.showIf)!=null&&b.all?(f(),r("div",M,[(f(!0),r(k,null,w(l.element.visibility.showIf.all,(n,i)=>(f(),r("div",{key:i,class:"flex gap-2 items-center"},[a(t("input",{"onUpdate:modelValue":u=>l.element.visibility.showIf.all[i].field=u,onInput:e[7]||(e[7]=u=>s("visibility",l.element.visibility)),placeholder:"field name",class:"border p-1 w-1/3"},null,40,D),[[v,l.element.visibility.showIf.all[i].field]]),a(t("select",{"onUpdate:modelValue":u=>l.element.visibility.showIf.all[i].op=u,onChange:e[8]||(e[8]=u=>s("visibility",l.element.visibility)),class:"border p-1"},e[15]||(e[15]=[B('<option value="==">==</option><option value="!=">!=</option><option value="&gt;">&gt;</option><option value="&lt;">&lt;</option><option value="&gt;=">&gt;=</option><option value="&lt;=">&lt;=</option>',6)]),40,H),[[C,l.element.visibility.showIf.all[i].op]]),a(t("input",{"onUpdate:modelValue":u=>l.element.visibility.showIf.all[i].value=u,onInput:e[9]||(e[9]=u=>s("visibility",l.element.visibility)),placeholder:"value",class:"border p-1 w-1/3"},null,40,L),[[v,l.element.visibility.showIf.all[i].value]]),t("button",{type:"button",onClick:()=>{l.element.visibility.showIf.all.splice(i,1),s("visibility",l.element.visibility)},class:"text-red-500"},"X",8,P)]))),128)),t("button",{type:"button",onClick:e[10]||(e[10]=()=>{l.element.visibility.showIf.all.push({field:"",op:"==",value:""}),s("visibility",l.element.visibility)}),class:"text-blue-500"},"+ Add Condition"),t("div",q,[e[17]||(e[17]=t("label",{class:"block text-sm"},"Else action",-1)),a(t("select",{"onUpdate:modelValue":e[11]||(e[11]=n=>l.element.visibility.else=n),onChange:e[12]||(e[12]=n=>s("visibility",l.element.visibility)),class:"border p-1"},e[16]||(e[16]=[t("option",{value:"show"},"Show",-1),t("option",{value:"hide"},"Hide",-1)]),544),[[C,l.element.visibility.else]])])])):g("",!0)])])):g("",!0)}}};export{J as default};
